<div class="container">

    <h3>Partida Presupuestaria</h3>
    <hr>
    <form (ngSubmit)="submit()">
        <div class="card">

            <div class="card-body">

              <div class="row">
                    <div class="col-md">
                        <div class="input-group input-group-sm mb-3">
                            <div class="input-group-prepend">
                              <span class="input-group-text" id="inputGestion">Gestión (<span class="text-danger font-weight-bold">*</span>):</span>
                            </div>
                            <input type="number" class="form-control" aria-describedby="inputGestion" [ngClass]="{ 'is-invalid': submittedGestion }"
                                  [(ngModel)]="partida.gestion" [ngModelOptions]="{standalone: true}">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="input-group input-group-sm mb-3">
                          <div class="input-group-prepend">
                            <label class="input-group-text" for="inputGroupCategoria">Categoria (<span class="text-danger font-weight-bold">*</span>):</label>
                          </div>
                          <select class="custom-select" id="inputGroupCategoria" [ngClass]="{ 'is-invalid': submittedCategoria }"
                                  [(ngModel)]="partida.categoria" [ngModelOptions]="{standalone: true}">
                            <option value = 0>Seleccionar...</option>
                            <option *ngFor="let param of parametricaCategorias" [value]="param.id">{{param.descripcion}}</option>
                          </select>
                      </div>                                             
                    </div>
                    <div class="col-md">
                        <div class="input-group input-group-sm mb-3">
                            <div class="input-group-prepend">
                              <span class="input-group-text" id="inputNumeroPartida">Numero de Partida (<span class="text-danger font-weight-bold">*</span>):</span>
                            </div>
                            <input type="text" class="form-control" aria-describedby="inputNumeroPartida" [ngClass]="{ 'is-invalid': submittedNumeroPartida }"
                                [(ngModel)]="partida.numeroPartida" [ngModelOptions]="{standalone: true}">
                        </div>
                    </div>                    
              </div>

              <div class="row">
                    <div class="col-md">
                        <div class="input-group input-group-sm mb-3">
                            <div class="input-group-prepend">
                              <span class="input-group-text" id="inputmontoActual">Monto Actual:</span>
                            </div>
                            <input type="number" class="form-control" aria-describedby="inputmontoActual" #q (change)="onChangeMonto(q.value)"
                                  [(ngModel)]="partida.montoActual" [ngModelOptions]="{standalone: true}">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="input-group input-group-sm mb-3">
                            <div class="input-group-prepend">
                              <span class="input-group-text" id="inputmontoAprobado">Monto Aprobado:</span>
                            </div>
                            <input type="number" class="form-control" aria-describedby="inputmontoAprobado" 
                                [(ngModel)]="partida.montoAprobado" [ngModelOptions]="{standalone: true}">
                        </div>                       
                    </div>
                    <div class="col-md">
                        <div class="input-group input-group-sm mb-3">
                            <div class="input-group-prepend">
                              <span class="input-group-text" id="inputmontoIncremento">Monto Incremento:</span>
                            </div>
                            <input type="number" class="form-control" aria-describedby="inputmontoIncremento" 
                                [(ngModel)]="partida.montoIncremento" [ngModelOptions]="{standalone: true}">
                        </div>
                    </div>                    
              </div>

              <div class="row">
                    <div class="col-md-4">
                        <div class="input-group input-group-sm mb-3">
                            <div class="input-group-prepend">
                              <span class="input-group-text" id="inputsaldo">Saldo:</span>
                            </div>
                            <input type="number" class="form-control" aria-describedby="inputsaldo" readonly="true"
                                  [(ngModel)]="partida.saldo" [ngModelOptions]="{standalone: true}">
                        </div>
                    </div>
              </div>
              
              <!-- <hr>

              <div class="row">
                    <div class="col-md">
                    <div class="custom-file">
                        <input type="file" class="custom-file-input" id="customFileLang" lang="es">
                        <label class="custom-file-label" for="customFileLang">Seleccionar archivo digital de la Partida Presupuestaria</label>
                    </div>
                  </div>
              </div> -->
              <div *ngIf="!isNew">
                <hr>
                <div class="row">
                  <div class="col-md">
                    <div class="input-group input-group-sm mb-3">
                      <div class="input-group-prepend">
                          <span class="input-group-text" id="inputJustificacion">Justificación de cambio (<span class="text-danger font-weight-bold">*</span>):</span>
                      </div>
                      <textarea class="form-control" aria-describedby="inputJustificacion" rows="2" maxlength ="200"
                                [ngClass]="{ 'is-invalid': submittedJustificacion }"
                                [(ngModel)]="justificacionCambio" [ngModelOptions]="{standalone: true}"></textarea>
                  </div>                
                  </div>                  
                </div>
              </div>

            </div>
        
            <div class="card-footer">
              <div class="row justify-content-end">
                <div class="col-md-1">
                  <input class="btn btn-outline-primary btn-sm" type="submit" value="Guardar">
                </div>
              </div>
            </div>            
        </div>
      </form>

</div>



<!-- 
<hr>
{{partida|json}} -->



